# ffixv-cw-calculate

又名 ffixv-crystal-world-calculate
中文名为最终幻想14:水晶世界 配方计算器

主要用于水晶世界的配方计算

**因目前没有可用数据来源, 所有数据的维护为本地, 且需手打** 

目前代码成分: LLM99%+人脑1%

界面使用tkinter

因为网络问题,后续更新我将推送在[gitee](https://gitee.com/UnKfrozen/ffixv-cw-calculate.git)上

## 目前进度

1. 多配方合并计算
2. 树状显示配方列表
3. 手动添加配方
4. 删除添加的配方

## 使用方法

1. pull到本地或者下载zip到本地
2. 进入src目录下,运行main.py即可

### 具体使用方式

#### 计算

1. 选中左侧配方后点击"查看配方树"或双击右侧已有的配方,可以查看配方树
2. 选中左侧配方,点击"添加到右侧列表",会将配方从左侧移除,并添加至右侧,并显示设置该配方目标数量
3. 点击"计算",会显示右侧列表中所有配方所需材料

#### 添加配方

1. 主界面
   - "配方名称"为你要添加的成品的名称,旁边是一次制作会产生多少个产品
   - 左下方可以筛选要添加的材料和半成品
   - 选择要添加的材料/半成品,点击"添加到配方",将会以默认个数为1添加到右侧配方树
   - 选择右侧添加的材料/半成品,点击"设置数量",可以修改所需数量. 点击"删除材料"则可以将其删除
   - 点击"保存配方"进行保存
2. "创建原材料"按钮, 点击后弹框,输入材料名称即可
3. "创建半成品"按钮
   - 在上方"半成品名称"输入你要添加的半成品的名字
   - 在下方的"数量",设置要添加的材料/半成品的数量
   - 选中要添加的,再点击"添加到配方"
   - 选择"已选材料",点击"删除选中",可以删除添加了的材料/半成品
   - 点击"保存"进行保存

#### 删除配方

主要是为了添加配方服务,手动维护导致错误就来这里,实在不行就只能去目录下面删json文件

## 数据维护

1. 目前使用json进行保存
2. 数据目前区分为: 成品[products](src/data/products), 半成品[materials](src/data/materials), 原材料[base](src/data/base)
3. 因为没有解包数据,目前只能手动维护

## 开发方法

主要代码都在[core](src/core)下面

1. [generator.py](src/core/generator.py)这个是添加配方
2. [calculator.py](src/core/calculator.py)这个是计算
3. [visualizer.py](src/core/visualizer.py)这个是可视化界面代码
